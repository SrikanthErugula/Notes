Configuration management
=====================
 Refer FINAL NOTES of ansible

===========================
EX:- if u want creating one server by using ansible, yes its allowed to create for example MySQL server created, unfortunately someone will come and change the name of server like mysqlsri, while that time if u run ansible again it will be create duplicate server like MySQL serever.... it is not good for we don't want another server....


**Use Terraform for better  infra creation. Once servers are created by Terraform, then hand over them to Ansible, so here Ansible completes the configuration in the server**

--> So finally ansible can manage or owner of the server configuration
--->  Terraform can manage or owner of the server infrastructure

--> So all-purpose ki same tool use avvdhu we need to use perspective for that.......

===============================================================================================================================================			

refer Final notes terraform

---> So why do we write code? bcz manual ga one server loki login  ayyi emi emi configuration and properties vunnnai chudandi ante chala kastum and time consumed, so adhe code laga rasukunte it will be easy to track everything in that server....

---> anisble playbook chuste manaki antha ardham avuthundiii what is what ani.... same alane shell script chusina manaki ardham avuhundhi about that....

CRUD operations ni easy ga perform cheyachhu in code ( through code called as Automation) ,  but by manually it can't able to do it.

Creation of configuration code lo easy ga create cheyachu 

Reading the configuration code ni easy ga read cheyachu 

Update the configuration code ni easy ga update cheyachu

Delete the configuration .....................like as above


Infra ni kuda code laga raste we can easily find out ---> some of adv like as below points....

===============

--> once code will be created we need to store in git we called as Version control --->Version control (**also known as source control or revision control**) is the practice of tracking and managing changes to files, primarily computer code, over time.
-----> one month back velli code lo changes emi chesaru ante we easily findout.. ala one year ayina kuda we can see ... that is main importance of code 

Automatic CRUD ---> we can perform easily in our code 


Consistent infra -> DEV,--> QA,--> UAT,--> PRE-PROD,--> PERF, -->PROD --> so here dev lo anni operations chesi next env ki move chestene last lo prod kuda success avuthundi..

--> consistent means prod success ayyela manam first numci dev lo kuda prod  kosam changes ni add chestu prod ki release cheste appudu success avuthundhi so that is consistent

--> so finally infra kuda consistency laga vundali..


Inventory -> ikkada chuste manaki easy ga telustundhi  ..........What are the services we are using in cloud 


Cost optimisation ----> so here manaki need vunnapudu create chesi and no need appudu easy ga delete chesukovachhu fast ga avuthundi proccess compare to ansible.... ansible take too much time to perform both create and delete

--> very easy to know how much cost it, manam use chese configuration gpt ki iste adhi cheptundi/....

Time saving and no human errors


Dependency -> SG, EC2 and then R53 ----> ila code lo easy ga identify chesi easy ga modifiaction cheyachu 


Modular reusable infra
=========================
Benefits of Modular, Reusable Infra
Consistency: Same module/role ensures environments are identical.

Maintainability: Easier to update one module than hundreds of duplicated scripts.

Scalability: Teams can share modules across projects.

Flexibility: Swap or extend modules without rewriting everything.

========================================================================================================           ==============================

Terraform, Pulumi, Cloudformation, etc..  all are the same, but based on the latest version we can use here

--> manam endhuku oka server create chesam  aws lo manula ga ante....  shell script and ansible anevi windows lo run avvdhu so we need shell or server ,..... we need based on the support tool  
--> terraform anedhi server run cheyamu here no need server for terraform
--> terraform ni use chesi rasina code tho aws lo server ni create cheyachu that is infrasture so aws ni connect or access cheyanlante we need to install terraform in our windows

--> in terraform everything is key value based like key = somevalue.....

--> so here we need to install the below 2 tools only  ( for install steps 30:00 min) 

**1. Terraform 

**2. AWS CLI V2 


---> we have dig that is teraform.drawio that is snap in google sheet terrafrom_dig page u can check it there 

=================================================
https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html

ls -> /usr/bin or /bin ---> ila ekkado oka chota store avuthudi cloud lo 

terraform ila iste ekkado oka chota check cheyali so We can give the PATH in Windows ( for this 37:00 min if want) ENV variables ni adjust cheyali...

--> for checking purpose in git bash give cmd like.... $terraform  ( so path lekapothe command not found ani vastundhi) so dhani kosam manam path set up cheyali


--> download chesina vetane dhaiki path teliyadhu so we need ENV variables set up 41:00 min


--> aws configure ni run cheyali

HCL -> HashiCorp Configuration Language .. terraform introduced this company

name, image, sg, storage disk, key(no-key) ... --> for any instance creation 

--> terraform always follow this syntax...as below

{
	key = "value"
}

resource "aws_instance" "name-of-resource" .. ikkada ec2 instance creation ki aws_instance ani terraform manaki ala ichhindi.. so ala anni valle istaru see in google
{
	
	ami = ""
	name = ""
	storage = ""
	key = ""
	instance_type = ""

}

---> so here in cloud everything is consider as resource like ec2 instance creation, route53 record, sg, so ala

resource "type_of_resource" "name-of-resource"
 {
	
	key = value
	
}
so in every where key follows always via syntax only it doesn't zigzag

--> so here type_of_resource is also follows syntax, it means ec2 instance or r53 record or s3 bucket ...  we need to follow some authorized process.. mana istum kadhu

"name-of-resource"--> this is our choice for naming convention 

terraform aws provider --> https://registry.terraform.io/providers/hashicorp/aws/latest/docs
terraform aws ec2 instance--> https://registry.terraform.io/modules/terraform-aws-modules/ec2-instance/aws/latest
https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance

---> provider.tf --- so here manam cheptunam dheniki connect avvali ani, its mandatory for terraform

--> terraform DIR lo --> provider.tf file created
--> terraform DIR --> ec2.tf file created
-> so keys are nothing but arguments then doc lo vunttai which are mandatory ani  u can refer in argument reference page

1. terraform init -> downloads the provider, initialize terraform
2. terraform plan -> It will give us a plan that what it is going to do
3. terraform apply -> creates the infra as given in the plan

---> Terraform cmds will have been worked at .tf folder only --> it means terraform cmds anevi ony .tf folder dhaggare work avuthai, avi leni dhaggra terraform cmds ani iste no excute 

-->so here terraform tho oka server create chesinapudu next evro vachhi server loki login ayyi servr name change cheste, .. manam next day terraform plan run cheste adhi cheptundi like server name change chesaru but nenu matram as per code lo emi vunte adhe name create chesta duplicate ga inko server ni create cheyanu ani.. ansible  duplicate server create chestudhi .......

terraform apply -auto-approve --> if u provide like these it doesn't ask any permission like yes so its automatically procced 

terraform destroy -auto-approve  It means all data will be destroyed, sg and instance all


--> like as ansible roles lo laga all main.yaml files ni excute chesinattu.... terraform lo kuda terraform ani iste .tf files anni excute chestundhi

terraform aws sg group ---> https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group

SYNTAX is 
--------
resource "aws_security_group" "example" {
  name   = "sg"
  vpc_id = aws_vpc.example.id

  ingress = []
  egress  = []
}

-->Ingress ( Data in )means entrance, or the right to enter, or the act of entering

--> Egress (Data Out)
Definition: Data leaving a network or system (e.g., downloading from the cloud, sending emails).

-->

--> vpc_security_group_ids --> it used to connect or tag sg to instance ... we can tag 2 more sg for a single instance so we need follow list[]..







============================

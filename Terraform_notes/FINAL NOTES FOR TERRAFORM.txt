cd /c/Users/srika/devsecops/shellscript/Notes/Terraform_notes/


							FINAL NOTES FOR TERRAFORM
							==========================

							  SES-29-c1
						   *****************
**Use Terraform for better  infra creation. Once servers are created by Terraform, then hand over them to Ansible, so here Ansible completes the configuration in the server**
--->  Terraform can manage or owner of the server infrastructure

Terraform -> IaaC ( Infrastructure as a code )

CM -> Configuration as a code

---> So why do we write code? bcz manual ga one server loki login  ayyi emi emi configuration and properties vunnnai chudandi ante chala kastum and time consumed, so adhe code laga rasukunte it will be easy to track everything in that server....

---> CRUD operations ni easy ga perform cheyachhu in code 
--> so code lo ithe eas ga CRUD operations cheyachuu
--> so finally infra kuda consistency laga vundali.
Inventory -> ikkada chuste manaki easy ga telustundhi  
Cost optimisation ---->
Time saving and no human errors
Dependency -> SG, EC2 and then R53 

Terraform, Pulumi, Cloudformation, etc..  all are the same, but based on the latest version we can use here

HCL -> HashiCorp Configuration Language .. terraform introduced this company

--> terraform anedhi server run cheyamu ( it doesn't work within server) 
--> terraform ni use chesi rasina code tho aws lo server ni create cheyachu that is infrasture so aws ni connect or access cheyanlante we need to install terraform in our windows

-> in terraform everything is key value based like key = somevalue.....
--> terraform always follow this syntax...as below
resource "type_of_resource" "name-of-resource"
 {
	
	key = value
	
}
---> provider.tf --- so here manam cheptunam dheniki connect avvali ani, its mandatory for terraform

---> Terraform cmds will have been worked at .tf folder only
1. terraform init -> downloads the provider, intialise terraform
2. terraform plan -> It will give us a plan that what it is going to do
3. terraform apply -> creates the infra as given in the plan

terraform apply -auto-approve --> if u provide like these it doesn't ask any permission like yes so its automatically procced 

terraform destroy -auto-approve  It means all data will be destroyed, sg and instance all

-->Ingress ( Data in )means entrance, or the right to enter, or the act of entering

--> Egress (Data Out)
Definition: Data leaving a network or system (e.g., downloading from the cloud, sending emails).

OVER VIEW
============

1. installed terraform, setup the env variable in system path
2. aws cli v2 install
3. aws configure

terraform init
terraform plan
terraform apply
terraform destroy

--> the syntax we called as HCL 
The HashiCorp Configuration Language (HCL) syntax is designed to be human-readable and machine-friendly, built primarily around arguments, blocks, and expressions. It is used in HashiCorp products like Terraform, Nomad, and Packer. 

resource "type_of_resource" "resource_name_our_wish" {
	key = "value"
}


		=====================================================================
							  SES-30-c2
						   *****************
git -> repository to store only code. here max 50 MB varaku store cheyali ani restrict chesaru
.gitignore means konni files ni ignore chei ani cheptundhi andhulo vunttai emi emi ignore cheyalo..

rm -rf .git
add .gitignore
git init
git branch -M main
git remote add origin <URL>
git add . ; git commit ; git push

$ git add . ; git commit -m "terraform_start" ; git push origin main -f  ( so here -f used to for force push ) 

variables
========= DRY ===
Syntax is
---------
variable "variable_name" {
	default = "value-of-variable"
}

ex:- var.ami_id and var.instance_type  like this u can refer in ec2.tf lo 

--> data types means int,string,boolean,number....float
preference topic
===========
1. command line variable values have first preference
syntax: terraform plan -var='instance_type=t2.micro'

2. terraform.tfvars
syntax:: terraform plan -var-file='my-vars.tfvars'   ---> another model ---> 

3. env variable TF_VAR_<variable_name>

synrtax::;  export TF_VAR_instance_type="t3.reddy"
unset TF_VAR_instance_type ----> ila ivvatum valla adhi remove avuthundi ---> default state ki vastundhi

4. default value so  emiana vundha ani..

So actually ga user ni adugutham value ni provide chayamani, vallaki teliyali ga
so manaki readability kosam manam type anedhi use chestam, like string or map or list or number ani...........

5. finally prompt  --> it means manam value ni enter cheyali 
conditions
==============
in terraform syntax is:
------------------------
expression ? "this will run if true" : "this will run if false"

EX : instance_type = var.environment == "dev" ? "t3.micro" : "t3.medium"

count based loop
================
count = length(var.instances) or else count = 10
count.index -> special variable --> terraform has given like this 
So basically index starts from 0 

so this called count based usually works with list items.....

-->if in case u wrote all tf files in single folder terraform will start the execution alphabetical order...abcde...
interpolation
============
concatenating variable and other content--> it means add 2 variables


		=====================================================================

							  SES-3
						   *****************

		=====================================================================

